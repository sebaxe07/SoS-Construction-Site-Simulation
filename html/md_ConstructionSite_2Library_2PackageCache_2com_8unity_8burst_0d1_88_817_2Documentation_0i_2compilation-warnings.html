<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Compilation warnings</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Compilation warnings</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md745"></a></p>
<p>This page describes common compilation warnings, and how to fix them.</p>
<h1><a class="anchor" id="autotoc_md746"></a>
IgnoreWarning attribute</h1>
<p>The <a href="xref:Unity.Burst.CompilerServices.IgnoreWarningAttribute"><code>Unity.Burst.CompilerServices.IgnoreWarningAttribute</code></a> attribute lets you suppress warnings for a specific function that is being compiled from <a class="el" href="namespaceBurst.html">Burst</a>. However, the warnings that the <a class="el" href="namespaceBurst.html">Burst</a> compiler generates are very important to pay attention to, so this attribute should be used sparingly and only when necessary. The sections below describe the specific situations in which you might want to suppress warnings.</p>
<h1><a class="anchor" id="autotoc_md747"></a>
BC1370</h1>
<p>Warning BC1370 produces the message:</p>
<blockquote class="doxtable">
<p>&zwj;An exception was thrown from a function without the correct <code>[Conditional("ENABLE_UNITY_COLLECTIONS_CHECKS")]</code> guard... </p>
</blockquote>
<p>This warning happens if <a class="el" href="namespaceUnity.html">Unity</a> encounters a throw in code that <code>[Conditional("ENABLE_UNITY_COLLECTIONS_CHECKS")]</code> doesn't guard. In the Editor, thrown exceptions will be caught and logged to the Console, but in a Player build, a <code>throw</code> becomes an abort, which crashes your application. <a class="el" href="namespaceBurst.html">Burst</a> warns you about these exceptions, and advises you to place them in functions guarded with <code>[Conditional("ENABLE_UNITY_COLLECTIONS_CHECKS")]</code>, because functions guarded with that attribute will not be included in Player builds. However, if you want to purposely throw an exception to crash your application, use the <code>IgnoreWarningAttribute</code> to suppress the warnings that <a class="el" href="namespaceBurst.html">Burst</a> provides on the <code>throw</code>:</p>
<div class="fragment"><div class="line"><span class="preprocessor"> #</span></div>
<div class="line">[IgnoreWarning(1370)]</div>
<div class="line"><span class="keywordtype">int</span> DoSomethingMaybe(<span class="keywordtype">int</span> x)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (x &lt; 0) <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Dang - sorry I crashed your game!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> x * x;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>This warning is only produced for exceptions that persist into Player builds. Editor-only or debug-only exception throws that aren't compiled into Player builds will not trigger this warning.</dd></dl>
<h1><a class="anchor" id="autotoc_md748"></a>
BC1371</h1>
<p>Warning BC1371 produces the message:</p>
<blockquote class="doxtable">
<p>&zwj;A call to the method 'xxx' has been discarded, due to its use as an argument to a discarded method... </p>
</blockquote>
<p>To understand this warning, consider the following example:</p>
<div class="fragment"><div class="line"><span class="preprocessor"> #</span></div>
<div class="line">[BurstDiscard]</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> DoSomeManagedStuff(<span class="keywordtype">int</span> x)</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// A function that computes some result which we need to pass to managed code</span></div>
<div class="line"><span class="keywordtype">int</span> BurstCompiledCode(<span class="keywordtype">int</span> x,<span class="keywordtype">int</span> y)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> y+2*x;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">[BurstCompile]</div>
<div class="line"><span class="keywordtype">void</span> BurstMethod()</div>
<div class="line">{</div>
<div class="line">    var myValue = BurstCompiledCode(1,3);</div>
<div class="line">    DoSomeManagedStuff(myValue);</div>
<div class="line">}</div>
</div><!-- fragment --><p>When <a class="el" href="namespaceUnity.html">Unity</a> compiles your C# code in release mode, it optimizes and removes the local variable <code>myValue</code>. This means that <a class="el" href="namespaceBurst.html">Burst</a> receives something like the following code :</p>
<div class="fragment"><div class="line"><span class="preprocessor"> #</span></div>
<div class="line">[BurstCompile]</div>
<div class="line"><span class="keywordtype">void</span> BurstedMethod()</div>
<div class="line">{</div>
<div class="line">    DoSomeManagedStuff(BurstCompiledCode(1,3));</div>
<div class="line">}</div>
</div><!-- fragment --><p>This makes <a class="el" href="namespaceBurst.html">Burst</a> generate the warning, because <a class="el" href="namespaceBurst.html">Burst</a> discards <code>DoSomeManagedStuff</code>, along with the <code>BurstCompiledCode</code> argument. This means that the <code>BurstCompiledCode</code> function is no longer executed, which generates the warning.</p>
<p>If this isn't what you intended then ensure the variable has multiple uses. For example:</p>
<div class="fragment"><div class="line"><span class="preprocessor"> #</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> IsUsed(ref <span class="keywordtype">int</span> x)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Dummy function to prevent removal</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">[BurstCompile]</div>
<div class="line"><span class="keywordtype">void</span> BurstedMethod()</div>
<div class="line">{</div>
<div class="line">    var myValue = BurstCompiledCode(1,3);</div>
<div class="line">    DoSomeManagedStuff(myValue);</div>
<div class="line">    IsUsed(ref myValue);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Alternatively, if you're happy that the code is being discarded correctly, ignore the warning on the <code>BurstedMethod</code> like so:</p>
<div class="fragment"><div class="line"><span class="preprocessor"> #</span></div>
<div class="line">[IgnoreWarning(1371)]</div>
<div class="line">[BurstCompile]</div>
<div class="line"><span class="keywordtype">void</span> BurstMethod()</div>
<div class="line">{</div>
<div class="line">    var myValue = BurstCompiledCode(1,3);</div>
<div class="line">    DoSomeManagedStuff(myValue);</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
