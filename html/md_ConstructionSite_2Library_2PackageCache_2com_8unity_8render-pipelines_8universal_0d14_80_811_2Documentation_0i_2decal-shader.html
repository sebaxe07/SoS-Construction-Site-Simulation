<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Decal Shader Graph</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Decal Shader Graph</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1970"></a></p>
<p>The <a href="renderer-feature-decal.md#decal-projector-component">Decal Projector</a> component can project a Material as a decal if the Material uses a Shader Graph with the Decal Material type.</p>
<p><img src="Images/decal/decal-shader-graph-material-type.png" alt="Shader Graph with the Decal Material type" class="inline"/><br  />
<em>Shader Graph with the Decal Material type</em></p>
<p>URP contains the pre-built Decal Shader (<code>Shader Graphs/Decal</code>).</p>
<p><img src="Images/decal/decal-material-properties.png" alt="Decal Material properties." class="inline"/><br  />
<em>Decal Material properties and advanced options.</em></p>
<p>You can assign a Material that uses a Decal Shader Graph to a GameObject directly. For example, you can <a href="renderer-feature-decal.md#decal-gameobject">use a Quad as the Decal GameObject</a>.</p>
<p>The pre-built Decal Shader has the following properties:</p>
<ul>
<li><b>Base Map</b>: the Base texture of the Material.</li>
<li><b>Normal Map</b>: the normal texture of the Material.</li>
<li><b>Normal Blend</b>: this property defines the proportion in which the the normal texture selected in the Normal Map property blends with the normal map of the Material that the decal is projected on. 0: the decal does not affect the Material it's projected on. 1: the normal map of the decal replaces the normal map of the Material it's projected on.</li>
</ul>
<p>You can create your own Shader Graphs that render decals in a way that suits your project best.</p>
<p>The Decal Material properties above are defined in the pre-built Shader Graph. Custom decal Material properties depend on a custom Shader Graph.</p>
<p>The following table describes the properties in the <b>Advanced Options</b> section. These properties are common for all decal shaders.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Property</b>   </th><th class="markdownTableHeadNone"><b>Description</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Enable GPU&amp;#160;Instancing</b>   </td><td class="markdownTableBodyNone">Enabling this option lets URP render meshes with the same geometry and Material in one batch, when possible. This makes rendering faster. URP cannot render Meshes in one batch if they have different Materials or if the hardware does not support GPU instancing.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Priority</b>   </td><td class="markdownTableBodyNone">This property defines the order in which URP draws decals in the Scene. URP draws decals with lower Priority values first, and draws decals with higher Priority values on top of those with lower values. <br  />
If there are multiple Decal Materials with the same <b>Priority</b> in the Scene, URP renders them in the order in which the Materials were created.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="anchor" id="mesh-bias-type"></a><b>Mesh Bias Type</b>   </td><td class="markdownTableBodyNone">Select the Mesh bias type. The Mesh bias lets you prevent z-fighting between the Decal GameObject and the GameObject it overlaps. This property is only applicable for GameObjects with a <a href="renderer-feature-decal.md#decal-gameobject">Decal Material type assigned directly</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><em>View Bias</em>   </td><td class="markdownTableBodyNone">A world-space bias (in meters). When drawing the Decal GameObject, <a class="el" href="namespaceUnity.html">Unity</a> shifts each pixel of the GameObject by this value along the view vector. A positive value shifts pixels closer to the Camera, so that <a class="el" href="namespaceUnity.html">Unity</a> draws the Decal GameObject on top of the overlapping Mesh, which prevents z-fighting. Decal Projectors ignore this property.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><em>Depth Bias</em>   </td><td class="markdownTableBodyNone">When drawing the Decal GameObject, <a class="el" href="namespaceUnity.html">Unity</a> changes the depth value of each pixel of the GameObject by this value. A negative value shifts pixels closer to the Camera, so that <a class="el" href="namespaceUnity.html">Unity</a> draws the Decal GameObject on top of the overlapping Mesh, which prevents z-fighting. Decal Projectors ignore this property.   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md1971"></a>
<a class="anchor" id="create-decal-shaders"></a>Create custom Decal shaders</h1>
<p>The pre-built <code>Shader Graphs/Decal</code> shader serves as a simple example. You can create your own decal shaders that render decals in a way that suits your project best.</p>
<p>To create a custom decal Shader Graph, select the <b>Decal</b> value in Material property of the shader target.</p>
<p><img src="Images/decal/decal-shader-graph-material-type.png" alt="Shader Graph, Decal Material" class="inline"/></p>
<p>Enabling one of the following properties override the equivalent Lit Shader property on the surface of the Material.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Property</b>   </th><th class="markdownTableHeadNone"><b>Description</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Affect&amp;#160;BaseColor</b>   </td><td class="markdownTableBodyNone">When enabled, the shader affects the base color. Most decals make use of this option. An exception is a surface damage effect, were you might want to manipulate other properties, such as normals.<br  />
<img src="Images/decal/decal-color.png" alt="Decal Color" class="inline"/><em>From left to right: shader affecting only the color, affecting all properties, affecting all properties but color.</em>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Affect Normal</b>   </td><td class="markdownTableBodyNone">When enabled, the shader affects normals. Use cases: adding damage effects to materials, for example, bullet holes or cracks. Use the <b>Blend</b> property to blend the normals of the decal with the normals of the surface it's projected to. If the <b>Blend</b> property is disabled, the decal overrides the normals all over the surface it's projected to.<br  />
<img src="Images/decal/decal-normal.png" alt="Decal Normal" class="inline"/><em>From left to right: Affect Normal is off; Affect Normal is on, Blend is off; Affect Normal and Blend are on.</em>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Affect MAOS</b>   </td><td class="markdownTableBodyNone">MOAS stands for Metallic, Ambient Occlusion, and Smoothness. These properties are grouped together to save memory. You can change values of each property separately in the shader, but all properties are blended with a single common alpha value.<br  />
Use cases:<br  />
Override smoothness to highlight puddles or wet paint. Override metallic values with lower values to render rust. Override AO to give the decal more depth.<br  />
<img src="Images/decal/decal-maos.png" alt="Decal MAOS" class="inline"/><em>Left: the decal does not affect MAOS. Right: the decal affects MAOS.</em>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Affect&amp;#160;Emission</b>   </td><td class="markdownTableBodyNone">Use cases: you can affect the emission values to make surfaces seem like they are emitting light, or to make surfaces seem like they are being lit by light.<br  />
<img src="Images/decal/decal-emission.png" alt="Decal Emission" class="inline"/> <em>Left: Affect Emission is off. Right: Affect Emission is on.</em>   </td></tr>
</table>
<p>To improve performance, pack data for different surface properties into a single texture. This way the shader performs fewer samples and <a class="el" href="namespaceUnity.html">Unity</a> stores fewer textures.</p>
<p>For example, the following Shader Graph uses a normal map and a mask map to drive all properties in the shader. This decal is used for the damaged tarmac effect, and a hardcoded roughness value of 0 suites the use case.</p>
<p><img src="Images/decal/decal-graph.png" alt="Decal Graph" class="inline"/></p>
<p>The shader samples the mask and uses the color for setting the Ambient Occlusion values (Red channel), smoothness values (Green channel), Emission intensity values (Blue channel), and alpha values for the entire decal. Decals are often blended using single alpha values for all properties. The following image shows the mask map for the example tarmac cracks:<br  />
 <img src="Images/decal/decal-mask.png" alt="Decal Mask" class="inline"/><em>Example of mask map that packs Ambient Occlusion, Smoothness, Emission, and alpha values of a decal atlas into a single texture.</em> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
