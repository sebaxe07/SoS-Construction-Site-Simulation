<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Ambient Occlusion</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Ambient Occlusion</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md2195"></a></p>
<p>The Ambient Occlusion effect darkens creases, holes, intersections and surfaces that are close to each other in real-time. In the real world, such areas tend to block out or occlude ambient light, so they appear darker.</p>
<p>URP implements the Screen Space Ambient Occlusion (SSAO) effect as a <a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8render-pipelines_8universal_0d14_80_811_cadfa6a3d36d205a662e38331878a0d1.html">Renderer Feature</a>. It works with every shader that the Universal Render Pipeline (URP) provides as well as any custom opaque Shader Graphs you create.</p>
<blockquote class="doxtable">
<p>&zwj;<b>Note</b>: The SSAO effect is a Renderer Feature and works independently from the post-processing effects in URP. This effect does not depend on or interact with Volumes. </p>
</blockquote>
<p>The following images show a scene with the Ambient Occlusion effect turned off, on, and only the Ambient Occlusion texture.</p>
<p><img src="Images/post-proc/ssao/scene-ssao-off.png" alt="Scene with Ambient Occlusion effect turned off." class="inline"/> <br  />
<em>Scene with Ambient Occlusion effect turned off.</em></p>
<p><img src="Images/post-proc/ssao/scene-ssao-on.png" alt="Scene with Ambient Occlusion effect turned on." class="inline"/> <br  />
<em>Scene with Ambient Occlusion effect turned on.</em></p>
<p><img src="Images/post-proc/ssao/scene-ssao-only-ao.png" alt="Scene with only the Ambient Occlusion texture." class="inline"/> <br  />
<em>Scene with only the Ambient Occlusion texture.</em></p>
<h1><a class="anchor" id="autotoc_md2196"></a>
Add the SSAO Renderer Feature to a Renderer</h1>
<p>URP implements the Ambient Occlusion effect as a Renderer Feature.</p>
<p>To use the SSAO effect in your project follow the instructions on <a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8render-pipelines_8universal_0d14_80_811_0e23c3b48e65e07bc63846f1a8790cf4.html">How to add a Renderer Feature to a Renderer</a> and add the Screen Space Ambient Occlusion Renderer Feature.</p>
<p>This causes any Cameras that use the Renderer with the SSAO Renderer Feature to have the SSAO effect.</p>
<h1><a class="anchor" id="autotoc_md2197"></a>
Properties</h1>
<p>This section describes the properties of the SSAO Renderer Feature.</p>
<h2><a class="anchor" id="autotoc_md2198"></a>
Method</h2>
<p>This property defines the type of noise the SSAO effect uses.</p>
<p>Available Options:</p>
<ul>
<li><b>Interleaved Gradient Noise</b>: Uses interleaved gradient noise to generate static SSAO.</li>
<li><b>Blue Noise</b>: Uses a selection of blue noise textures to generate dynamic SSAO. This creates an animated effect as the texture changes with every frame, as a result the SSAO effect is more subtle when the camera is in motion.</li>
</ul>
<p><b>Performance impact</b>: Insignificant.</p>
<h2><a class="anchor" id="autotoc_md2199"></a>
Intensity</h2>
<p>This property defines the intensity of the darkening effect.</p>
<p><b>Performance impact</b>: Insignificant.</p>
<h2><a class="anchor" id="autotoc_md2200"></a>
Radius</h2>
<p>When <a class="el" href="namespaceUnity.html">Unity</a> calculates the Ambient Occlusion value, the SSAO effect takes samples of the normal texture within this radius from the current pixel.</p>
<p><b>Performance impact</b>: High.</p>
<p>A lower <b>Radius</b> value improves performance, because the SSAO Renderer Feature samples pixels closer to the source pixel. This makes caching more efficient.</p>
<p>Calculating the Ambient Occlusion Pass on objects closer to the Camera takes longer than on objects further from the Camera. This is because the <b>Radius</b> property scales with the object.</p>
<h2><a class="anchor" id="autotoc_md2201"></a>
Falloff Distance</h2>
<p>SSAO does not apply to objects farther than this distance from the Camera.</p>
<p>A lower value increases performance in scenes that contain many distant objects. The performance improvement is smaller in smaller scenes with fewer objects.</p>
<p><img src="Images/post-proc/ssao/ssao-falloff-distance.gif" alt="Scene with only Ambient Occlusion texture demonstrating a varying fall-off distance." class="inline"/></p>
<p><b>Performance impact</b>: Depends on the application.</p>
<h2><a class="anchor" id="autotoc_md2202"></a>
Direct Lighting Strength</h2>
<p>This property defines how visible the effect is in areas exposed to direct lighting.</p>
<p>These images show how the <b>Direct Lighting Strength</b> value changes the SSAO effect depending on whether they are in the shadow or not.</p>
<p><img src="Images/post-proc/ssao/ssao-direct-lighting-strength-weak.png" alt="Direct Lighting Strength: 0.2." class="inline"/> <br  />
<em>Direct Lighting Strength: 0.2.</em></p>
<p><img src="Images/post-proc/ssao/ssao-direct-lighting-strength-strong.png" alt="Direct Lighting Strength: 0.9." class="inline"/> <br  />
<em>Direct Lighting Strength: 0.9.</em></p>
<p><b>A</b>. Shows the effect of <b>Direct Lighting Strength</b> on the SSAO effect in lit areas.</p>
<p><b>B</b>. Shows the effect of <b>Direct Lighting Strength</b> on the SSAO effect in areas one or more shadows cover.</p>
<p><b>Performance impact</b>: Insignificant.</p>
<h1><a class="anchor" id="autotoc_md2203"></a>
Quality</h1>
<h2><a class="anchor" id="autotoc_md2204"></a>
Source</h2>
<p>Select the source of the normal vector values. The SSAO Renderer Feature uses normal vectors for calculating how exposed each point on a surface is to ambient lighting.</p>
<p>Available options:</p>
<ul>
<li><b>Depth Normals</b>: SSAO uses the normal texture generated by the <code>DepthNormals</code> Pass. This option lets <a class="el" href="namespaceUnity.html">Unity</a> make use of a more accurate normal texture.</li>
<li><b>Depth</b>: SSAO does not use the <code>DepthNormals</code> Pass to generate the normal texture. SSAO reconstructs the normal vectors using the depth texture instead. Use this option only if you want to avoid using the <code>DepthNormals</code> Pass block in your custom shaders. Selecting this option enables the <b>Normal Quality</b> property.</li>
</ul>
<p><b>Performance impact</b>: Depends on the application.</p>
<p>When you switch between the options <b>Depth Normals</b> and <b>Depth</b>, there might be a variation in performance, which depends on the target platform and the application. In a wide range of applications the difference in performance is small. In most cases, <b>Depth Normals</b> produce a better visual look.</p>
<p>For more information on the Source property, refer to the section Implementation details.</p>
<h2><a class="anchor" id="autotoc_md2205"></a>
Normal Quality</h2>
<p>This property becomes active when you select the option Depth in the <b>Source</b> property.</p>
<p>Higher quality of the normal vectors produces smoother SSAO effect.</p>
<p>Available options:</p>
<ul>
<li><b>Low</b></li>
<li><b>Medium</b></li>
<li><b>High</b></li>
</ul>
<p><b>Performance impact</b>: Medium.</p>
<p>In some scenarios, the <b>Depth</b> option produces results comparable with the <b>Depth Normals</b> option. But in certain cases, the <b>Depth Normals</b> option provides a significant increase in quality. The following images show an example of such case.</p>
<p><img src="Images/post-proc/ssao/ssao-depth-q-low.png" alt="Source: Depth. Normal Quality: Low." class="inline"/> <br  />
<em>Source: Depth. Normal Quality: Low.</em></p>
<p><img src="Images/post-proc/ssao/ssao-depth-q-medium.png" alt="Source: Depth. Normal Quality: Medium." class="inline"/> <br  />
<em>Source: Depth. Normal Quality: Medium.</em></p>
<p><img src="Images/post-proc/ssao/ssao-depth-q-high.png" alt="Source: Depth. Normal Quality: High." class="inline"/> <br  />
<em>Source: Depth. Normal Quality: High.</em></p>
<p><img src="Images/post-proc/ssao/ssao-depth-normals.png" alt="Source: Depth Normals." class="inline"/> <br  />
<em>Source: Depth Normals.</em></p>
<p>For more information, refer to the section Implementation details.</p>
<h2><a class="anchor" id="autotoc_md2206"></a>
Downsample</h2>
<p>Selecting this check box reduces the resolution of the Pass that calculates the Ambient Occlusion effect by a factor of two.</p>
<p>The reduction in resolution of the Ambient Occlusion Pass by a factor of two reduces the pixel count to process by a factor of four. This reduces the load on the GPU significantly, but makes the effect less detailed.</p>
<p><b>Performance impact</b>: Very high.</p>
<h2><a class="anchor" id="autotoc_md2207"></a>
After Opaque</h2>
<p>When you enable <b>After Opaque</b>, <a class="el" href="namespaceUnity.html">Unity</a> calculates and applies the SSAO effect after the opaque render pass. This can increase performance when used with <b>Depth</b> as the <b>Source</b> for normal vector values as <a class="el" href="namespaceUnity.html">Unity</a> does not perform the skips depth prepass to calculate SSAO and instead uses the existing depth values.</p>
<p><b>After Opaque</b> can also increase performance on mobile devices that use tile-based rendering.</p>
<p><b>Performance impact</b>: Medium.</p>
<h2><a class="anchor" id="autotoc_md2208"></a>
Blur Quality</h2>
<p>This property defines the quality of blur that <a class="el" href="namespaceUnity.html">Unity</a> applies to the SSAO effect. Higher quality blur creates a smoother, higher fidelity effect but requires more processing power.</p>
<p>Available options:</p>
<ul>
<li><b>High</b> (Bilateral): Bilateral blur, takes three passes to process.</li>
<li><b>Medium</b> (Gaussian): Gaussian blur, takes two passes to process.</li>
<li><b>Low</b> (Kawase): Kawase blur, takes a single pass to process.</li>
</ul>
<p><b>Performance impact</b>: Very high.</p>
<h2><a class="anchor" id="autotoc_md2209"></a>
Samples</h2>
<p>For each pixel, the SSAO Render Feature takes the selected number of samples within the specified radius to calculate the Ambient Occlusion value. A higher value makes the effect smoother and more detailed, but also reduces performance.</p>
<p>Available options:</p>
<ul>
<li><b>High</b>: 12 <a class="el" href="classSamples.html">Samples</a></li>
<li><b>Medium</b>: 8 <a class="el" href="classSamples.html">Samples</a></li>
<li><b>Low</b>: 4 <a class="el" href="classSamples.html">Samples</a></li>
</ul>
<p><b>Performance impact</b>: High.</p>
<p>An increase in the <b><a class="el" href="classSample.html">Sample</a> Count</b> value from 4 to 8 doubles the computational load on the GPU.</p>
<p><a class="anchor" id="#implementation-details"></a></p>
<h1><a class="anchor" id="autotoc_md2210"></a>
Implementation details</h1>
<p>The SSAO Renderer Feature uses normal vectors for calculating how exposed each point on a surface is to ambient lighting.</p>
<p>URP 10.0 implements the <code>DepthNormals</code> Pass block that generates the the normal texture <code>_CameraNormalsTexture</code> for the current frame. By default, the SSAO Renderer Feature uses this texture to calculate Ambient Occlusion values.</p>
<p>If you implement your custom SRP and if you do not want to implement the <code>DepthNormals</code> Pass block in your shaders, you can use the SSAO Renderer Feature and set its <b>Source</b> property to <b>Depth</b>. In this case, <a class="el" href="namespaceUnity.html">Unity</a> does not use the <code>DepthNormals</code> Pass to generate the normal vectors, it reconstructs the normal vectors using the depth texture instead.</p>
<p>Selecting the option <b>Depth</b> in the <b>Source</b> property enables the <b>Normal Quality</b> property. The options in this property (Low, Medium, and High) determine the number of samples of the depth texture that <a class="el" href="namespaceUnity.html">Unity</a> takes when reconstructing the normal vector from the depth texture. The number of samples per quality level: Low: 1, Medium: 5, High: 9. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
