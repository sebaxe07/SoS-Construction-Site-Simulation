<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Decal Renderer Feature</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Decal Renderer Feature</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md2253"></a></p>
<p>With the Decal Renderer Feature, <a class="el" href="namespaceUnity.html">Unity</a> can project specific Materials (decals) onto other objects in the Scene. The decals interact with the Scene's lighting and wrap around Meshes.</p>
<p><img src="Images/decal/decal-sample-without.png" alt="Sample scene without decals" class="inline"/><br  />
<em><a class="el" href="classSample.html">Sample</a> scene without decals</em></p>
<p><img src="Images/decal/decal-sample-with.png" alt="Sample scene with decals" class="inline"/><br  />
<em><a class="el" href="classSample.html">Sample</a> scene with decals. The decals hide the seams between materials and add artistic details.</em></p>
<p>For examples of how to use Decals, refer to the <a href="package-sample-urp-package-samples.md#decals">Decals samples in URP Package Samples</a>.</p>
<h1><a class="anchor" id="autotoc_md2254"></a>
How to use the feature</h1>
<p>To add decals to your Scene:</p>
<ol type="1">
<li><a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8render-pipelines_8universal_0d14_80_811_0e23c3b48e65e07bc63846f1a8790cf4.html">Add the Decal Renderer Feature</a> to the URP Renderer.</li>
<li><p class="startli">Create a Material, and assign it the <code>Shader Graphs/Decal</code> shader. In the Material, select the Base Map and the Normal Map.</p>
<p class="startli"><img src="Images/decal/decal-example-material.png" alt="Example decal Material" class="inline"/></p>
</li>
<li>Create a new Decal Projector GameObject, or add a Decal Projector component to an existing GameObject.</li>
</ol>
<p>The following illustration shows a Decal Projector in the Scene.</p>
<p><img src="Images/decal/decal-projector-selected-with-inspector.png" alt="Decal Projector in the Scene." class="inline"/></p>
<p>For more information, refer to Decal Projector component.</p>
<p><a class="anchor" id="decal-gameobject"></a>An alternative way to add decals to a Scene:</p>
<ol type="1">
<li>Create a Quad GameObject.</li>
<li>Assign a Decal Material to the GameObject.</li>
<li>Position the Quad on the surface where you want the decal to be. If necessary, adjust the <a href="decal-shader.md#mesh-bias-type">mesh bias</a> value to prevent z-fighting.</li>
</ol>
<h1><a class="anchor" id="autotoc_md2255"></a>
Limitations</h1>
<p>This feature has the following limitations:</p>
<ul>
<li>The decal projection does not work on transparent surfaces.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2256"></a>
Decal Renderer Feature properties</h1>
<p>This section describes the properties of the Decal Renderer Feature.</p>
<p><img src="Images/decal/decal-rf-inspector.png" alt="Decal Renderer Feature, Inspector view." class="inline"/><br  />
<em>Decal Renderer Feature, Inspector view.</em></p>
<h2><a class="anchor" id="autotoc_md2257"></a>
Technique</h2>
<p>Select the rendering technique for the Renderer Feature.</p>
<p>This section describes the options in this property.</p>
<h3><a class="anchor" id="autotoc_md2258"></a>
Automatic</h3>
<p><a class="el" href="namespaceUnity.html">Unity</a> selects the rendering technique automatically based on the build platform. The <a href="rendering/deferred-rendering-path.md#accurate-g-buffer-normals">Accurate G-buffer normals</a> option is also taken into account, as it prevents normal blending from working correctly without the D-Buffer technique.</p>
<h3><a class="anchor" id="autotoc_md2259"></a>
DBuffer</h3>
<p><a class="el" href="namespaceUnity.html">Unity</a> renders decals into the Decal buffer (DBuffer). <a class="el" href="namespaceUnity.html">Unity</a> overlays the content of the DBuffer on top of the opaque objects during the opaque rendering.</p>
<p>Selecting this technique reveals the <b>Surface Data</b> property. The Surface Data property lets you specify which surface properties of decals <a class="el" href="namespaceUnity.html">Unity</a> blends with the underlying meshes. The Surface Data property has the following options:</p>
<ul>
<li><b>Albedo</b>: decals affect the base color and the emission color.</li>
<li><b>Albedo Normal</b>: decals affect the base color, the emission color, and the normals.</li>
<li><b>Albedo Normal MAOS</b>: decals affect the base color, the emission color, the normals, the metallic values, the smoothness values, and the ambient occlusion values.</li>
</ul>
<p><b>Limitations:</b></p>
<ul>
<li>This technique requires the DepthNormal prepass, which makes the technique less efficient on GPUs that implement tile-based rendering.</li>
<li>This technique does not work on particles and terrain details.</li>
</ul>
<h3><a class="anchor" id="autotoc_md2260"></a>
<a class="anchor" id="screen-space-technique"></a>Screen Space</h3>
<p><a class="el" href="namespaceUnity.html">Unity</a> renders decals after the opaque objects using normals that <a class="el" href="namespaceUnity.html">Unity</a> reconstructs from the depth texture, or from the G-Buffer when using the Deferred rendering path. <a class="el" href="namespaceUnity.html">Unity</a> renders decals as meshes on top of the opaque meshes. This technique supports only the normal blending. When using the Deferred rendering path with <a href="rendering/deferred-rendering-path.md#accurate-g-buffer-normals">Accurate G-buffer normals</a>, blending of normals is not supported, and will yield incorrect results.</p>
<p>Screen space decals are recommended for mobile platforms that use tile-based rendering, because URP doesn't create a DepthNormal prepass unless you enable <b>Use Rendering Layers</b>.</p>
<p>Selecting this technique reveals the following properties.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Property</b>   </th><th class="markdownTableHeadNone"><b>Description</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Normal Blend</b>   </td><td class="markdownTableBodyNone">The options in this property (Low, Medium, and High) determine the number of samples of the depth texture that <a class="el" href="namespaceUnity.html">Unity</a> takes when reconstructing the normal vector from the depth texture. The higher the quality, the more accurate the reconstructed normals are, and the higher the performance impact is.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&amp;#160;&amp;#160;&amp;#160;&amp;#160;<b>Low</b>   </td><td class="markdownTableBodyNone"><a class="el" href="namespaceUnity.html">Unity</a> takes one depth sample when reconstructing normals.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&amp;#160;&amp;#160;&amp;#160;&amp;#160;<b>Medium</b>   </td><td class="markdownTableBodyNone"><a class="el" href="namespaceUnity.html">Unity</a> takes three depth samples when reconstructing normals.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&amp;#160;&amp;#160;&amp;#160;&amp;#160;<b>High</b>   </td><td class="markdownTableBodyNone"><a class="el" href="namespaceUnity.html">Unity</a> takes five depth samples when reconstructing normals.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md2261"></a>
Max Draw Distance</h2>
<p>The maximum distance from the Camera at which <a class="el" href="namespaceUnity.html">Unity</a> renders decals.</p>
<h2><a class="anchor" id="autotoc_md2262"></a>
Use Rendering Layers</h2>
<p>Select this check box to enable the <a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8render-pipelines_8universal_0d14_80_811_609bc2f3052fed77ac8deb7f62c8bc91.html">Rendering Layers</a> functionality.</p>
<p>If you enable <b>Use Rendering Layers</b>, URP creates a DepthNormal prepass. This makes decals less efficient on GPUs that implement tile-based rendering.</p>
<h1><a class="anchor" id="autotoc_md2263"></a>
Decal Projector component</h1>
<p>The Decal Projector component lets <a class="el" href="namespaceUnity.html">Unity</a> project decals onto other objects in the Scene. A Decal Projector component must use a Material with the <a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8render-pipelines_8universal_0d14_80_811_2Documentation_0i_2decal-shader.html">Decal Shader Graph</a> assigned (<code>Shader Graphs/Decal</code>).</p>
<p>For more information on how to use the Decal Projector, refer to How to use the feature.</p>
<p>The Decal Projector component contains the Scene view editing tools and the Decal Projector properties.</p>
<p><img src="Images/decal/decal-projector-component-inspector.png" alt="Decal Projector component in the Inspector." class="inline"/><br  />
<em>Decal Projector component in the Inspector.</em></p>
<blockquote class="doxtable">
<p>&zwj;<b>NOTE</b>: If you assign a Decal Material to a GameObject directly (not via a Decal Projector component), then Decal Projectors do not project decals on such GameObject. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md2264"></a>
Decal Scene view editing tools</h2>
<p>When you select a Decal Projector, <a class="el" href="namespaceUnity.html">Unity</a> shows its bounds and the projection direction.</p>
<p>The Decal Projector draws the decal Material on every Mesh inside the bounding box.</p>
<p>The white arrow shows the projection direction. The base of the arrow is the pivot point.</p>
<p><img src="Images/decal/decal-projector-bounding-box.png" alt="Decal Projector bounding box" class="inline"/></p>
<p>The Decal Projector component provides the following Scene view editing tools.</p>
<p><img src="Images/decal/decal-scene-view-editing-tools.png" alt="Scene view editing tools" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Icon</b>   </th><th class="markdownTableHeadNone"><b>Action</b>   </th><th class="markdownTableHeadNone"><b>Description</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><img src="Images/decal/decal-projector-scale.png" alt="" class="inline"/>   </td><td class="markdownTableBodyNone"><b>Scale</b>   </td><td class="markdownTableBodyNone">Select to scale the projector box and the decal. This tool changes the UVs of the Material to match the size of the projector box. The tool does not affect the pivot point.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><img src="Images/decal/decal-projector-crop.png" alt="" class="inline"/>   </td><td class="markdownTableBodyNone"><b>Crop</b>   </td><td class="markdownTableBodyNone">Select to crop or tile the decal with the projector box. This tool changes the size of the projector box but not the UVs of the Material. The tool does not affect the pivot point.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><img src="Images/decal/decal-projector-pivotuv.png" alt="" class="inline"/>   </td><td class="markdownTableBodyNone"><b>Pivot / UV</b>   </td><td class="markdownTableBodyNone">Select to move the pivot point of the decal without moving the projection box. This tool changes the transform position.<br  />
This tool also affects the UV coordinates of the projected texture.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md2265"></a>
Decal Projector component properties</h2>
<p>This section describes the Decal Projector component properties.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Property</b>   </th><th class="markdownTableHeadNone"><b>Description</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Scale Mode</b>   </td><td class="markdownTableBodyNone">Select whether this Decal Projector inherits the Scale values from the Transform component of the root GameObject.<br  />
Options:<br  />
&amp;#8226; <b>Scale Invariant</b>: <a class="el" href="namespaceUnity.html">Unity</a> uses the scaling values (Width, Height, etc.) only in this component, and ignores the values in the root GameObject.<br  />
&amp;#8226; <b>Inherit from Hierarchy</b>: <a class="el" href="namespaceUnity.html">Unity</a> evaluates the scaling values for the decal by multiplying the <a href="https://docs.unity3d.com/ScriptReference/Transform-lossyScale.html">lossy Scale</a> values of the Transform of the root GameObject by the Decal Projector's scale values.<br  />
<b>Note</b>: since the Decal Projector uses the orthogonal projection, if the root GameObject is <a href="https://docs.unity3d.com/Manual/class-Transform.html">skewed</a>, the decal does not scale correctly.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Width</b>   </td><td class="markdownTableBodyNone">The width of the projector bounding box. The projector scales the decal to match this value along the local X axis.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Height</b>   </td><td class="markdownTableBodyNone">The height of the projector bounding box. The projector scales the decal to match this value along the local Y axis.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Projection Depth</b>   </td><td class="markdownTableBodyNone">The depth of the projector bounding box. The projector projects decals along the local Z axis.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Pivot</b>   </td><td class="markdownTableBodyNone">The offset position of the center of the projector bounding box relative to the origin of the root GameObject.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Material</b>   </td><td class="markdownTableBodyNone">The Material to project. The Material must use a Shader Graph that has the Decal Material type. For more information, refer to the page <a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8render-pipelines_8universal_0d14_80_811_2Documentation_0i_2decal-shader.html">Decal Shader Graph</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Tiling</b>   </td><td class="markdownTableBodyNone">The tiling values for the decal Material along its UV axes.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Offset</b>   </td><td class="markdownTableBodyNone">The offset values for the decal Material along its UV axes.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Opacity</b>   </td><td class="markdownTableBodyNone">This property lets you specify the opacity value. A value of 0 makes the decal fully transparent, a value of 1 makes the decal as opaque as defined by the <b>Material</b>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Draw Distance</b>   </td><td class="markdownTableBodyNone">The distance from the Camera to the Decal at which this projector stops projecting the decal and URP no longer renders the decal.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Start Fade</b>   </td><td class="markdownTableBodyNone">Use the slider to set the distance from the Camera at which the projector begins to fade out the decal. Values from 0 to 1 represent a fraction of the <b>Draw Distance</b>. With a value of 0.9, <a class="el" href="namespaceUnity.html">Unity</a> starts fading the decal out at 90% of the <b>Draw Distance</b> and finishes fading it out at the <b>Draw Distance</b>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Angle Fade</b>   </td><td class="markdownTableBodyNone">Use the slider to set the fade out range of the decal based on the angle between the decal's backward direction and the vertex normal of the receiving surface.   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2266"></a>
Performance</h1>
<p>Decals do not support the <b>SRP Batcher</b> by design because they use Material property blocks. To reduce the number of draw calls, decals can be batched together using GPU instancing. If the decals in your Scene use the same Material, and if the Material has the <b>Enable GPU Instancing</b> property turned on, <a class="el" href="namespaceUnity.html">Unity</a> instances the Materials and reduces the number of draw calls.</p>
<p>To reduce the number of Materials necessary for decals, put multiple decal textures into one texture (atlas). Use the UV offset properties on the decal projector to determine which part of the atlas to display.</p>
<p>The following image shows an example of a decal atlas.</p>
<p><img src="Images/decal/decal-atlas.png" alt="Decal Atlas" class="inline"/>  <em>left: decal atlas with four decals. Right: a decal projector is projecting one of them. If the decal Material has GPU instancing enabled, any instance of the four decals is rendered in a single instanced draw call.</em> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
