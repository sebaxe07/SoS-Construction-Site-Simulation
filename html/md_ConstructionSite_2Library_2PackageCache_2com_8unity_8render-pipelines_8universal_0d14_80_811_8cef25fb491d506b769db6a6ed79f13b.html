<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Shadows in the Universal Render Pipeline</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Shadows in the Universal Render Pipeline</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md2407"></a></p>
<p>The Universal Render Pipeline’s <a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8render-pipelines_8universal_0d14_80_811_ab71b7cc29d6f46f70cba471ec1396fb.html">Lights</a> can cast shadows from one GameObject onto another. They emphasize the position and scale of GameObjects, which adds a degree of depth and realism to a Scene that could otherwise look flat.</p>
<p>URP uses <a href="https://docs.unity3d.com/Manual/shadow-mapping.html">shadow maps</a> and <a href="https://docs.unity3d.com/Manual/shadow-cascades.html">shadow cascades</a>.</p>
<p>You can add a <a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8render-pipelines_8universal_0d14_80_811_9b3c5ebd3d0887959c19d15f5507dd28.html">Screen Space Shadows Renderer Feature</a> so the Universal Render Pipeline (URP) uses a single render texture to calculate and draw shadows from the main Directional Light, instead of multiple shadow cascade textures.</p>
<h1><a class="anchor" id="autotoc_md2408"></a>
Shadow map resolution</h1>
<p>The resolution of a Light’s shadow map determines the size of its shadow maps. The larger the shadow map, the more precise the shadows can be, and the better the Universal Render Pipeline can capture small details in the shadow casting geometry. Rendering shadow maps at higher resolutions make them look sharper.</p>
<p>The number of shadow maps Universal RP renders per Light depends on the <b>Type</b> of the Light:</p>
<ul>
<li>A Spot Light renders one shadow map.</li>
<li>A Point Light renders six shadow maps (the number of faces in a cubemap).</li>
<li>A Directional Light renders one shadow map per cascade. Set the cascade count of Directional Lights from the <a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8render-pipelines_8universal_0d14_80_811_691b203f5d6feee4924a5c745cae6e21.html">Universal Render Pipeline Asset</a> of your project.</li>
</ul>
<p>Universal RP will try to use the best resolution according to the number of shadow maps that are needed in the scene, and the size of the shadow atlases.</p>
<h1><a class="anchor" id="autotoc_md2409"></a>
Shadow atlases</h1>
<p>Universal RP renders all real-time shadows for a frame using one common shadow map atlas for all punctual light shadows (i.e shadows for Spot Lights and Point Lights), and an other shadow map atlas for Directional Light shadows.</p>
<p>Set the size of these atlases in your <a class="el" href="namespaceUnity.html">Unity</a> Project’s <a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8render-pipelines_8universal_0d14_80_811_691b203f5d6feee4924a5c745cae6e21.html">Universal Render Pipeline Asset</a>. The atlas size determines the maximum resolution of shadows in your Scene.</p>
<p>For example, an atlas of size 1024 x 1024 can fit:</p>
<ul>
<li>Four shadow maps of 512 x 512 pixels.</li>
<li>Sixteen shadow maps of 256 x 256 pixels.</li>
</ul>
<h2><a class="anchor" id="autotoc_md2410"></a>
Matching shadow atlas resolution to Built-In RP settings</h2>
<p>In projects that used the <b>Built-In Render Pipeline</b>, you controlled shadow maps resolution by selecting a shadow resolution level ("Low", "Medium", "High", "Very High") in your project's Quality Settings. For each shadow map, <a class="el" href="namespaceUnity.html">Unity</a> then decided which resolution to actually use, based on the algorithm explained in the <a href="https://docs.unity3d.com/Manual/shadow-mapping.html">Built-In RP Manual Page about Shadow Mapping</a>. You could then inspect in the <a href="https://docs.unity3d.com/Manual/FrameDebugger.html">Frame Debugger</a> the resolution actually used for a specific shadow map.</p>
<p>In <b>Universal Render Pipeline</b>, you specify the resolution of the Shadow Atlases. Therefore you can control the amount of video memory your application will allocate for shadows.</p>
<p>If you want to make sure that the resolution Universal RP uses for a specific punctual light shadow in your project, will not go under a specific value: Consider the number of shadow maps required in the scene, and select a big enough shadow atlas resolution.</p>
<p>For example: if your scene has four Spot Lights and one Point light ; and you want each shadow map resolution to be at least 256x256. Your scene needs to render ten shadow maps (one for each Spot Light, and six for the Point Light), each with resolution 256x256. Using a shadow atlas of size 512x512 would not be enough, because it can contain only four maps of size 256x256. Therefore, you should use a shadow atlas of size 1024x1024, that can contain up to sixteen maps of size 256x256.</p>
<h1><a class="anchor" id="autotoc_md2411"></a>
Shadow Bias</h1>
<p>Shadow maps are essentially textures projected from the point of view of the Light. Universal RP uses a bias in the projection so that the shadow casting geometry does not self-shadow itself.</p>
<p>In Universal RP, each individual Light component controls its own shadow biasing using the following parameters:</p>
<ul>
<li><b>Depth Bias</b></li>
<li><b>Normal Bias</b></li>
<li><b>Near Plane</b></li>
</ul>
<p>Find these settings under the <b>Shadows</b> section. If properties are not visible, change the Bias setting from "Use Pipeline Settings" to "Custom" to expose them.</p>
<p>Using high shadow bias values can result in light "leaking" through Meshes. This occurs where there is a visible gap between the shadow and its caster, and leads to shadow shapes that do not accurately represent their casters.</p>
<h1><a class="anchor" id="autotoc_md2412"></a>
Configure shadows for better performance</h1>
<p>Refer to <a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8render-pipelines_8universal_0d14_80_811_48d099bd7da0d0894413e95c64e31045.html">Configure for better performance</a> for more information about how to adjust shadow settings for better performance. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
