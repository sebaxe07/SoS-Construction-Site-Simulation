<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Upgrading from the Lightweight Render Pipeline to the Universal Render Pipeline</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Upgrading from the Lightweight Render Pipeline to the Universal Render Pipeline</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md2541"></a></p>
<p>The Universal Render Pipeline (URP) replaces the Lightweight Render Pipeline (LWRP) in <a class="el" href="namespaceUnity.html">Unity</a> 2019.3. If your Project uses LWRP, you must upgrade it to use URP to use <a class="el" href="namespaceUnity.html">Unity</a> 2019.3.</p>
<p><a class="el" href="namespaceUnity.html">Unity</a> upgrades some things automatically, and you must make some manual changes. Follow the steps in this guide to transition from using LWRP to using URP.</p>
<h1><a class="anchor" id="autotoc_md2542"></a>
Before upgrading</h1>
<h2><a class="anchor" id="autotoc_md2543"></a>
Update Assembly Definition Assets</h2>
<p>URP uses GUIDs instead of Assembly Definition string names. If you are using Assembly Definition Assets (ASMDefs) in your Project, you should ensure that <b>Use GUIDs</b> is enabled on each of them.</p>
<p><a class="el" href="namespaceUnity.html">Unity</a> upgrades any existing string references to LWRP automatically as part of the upgrade process, but it is best practice to use GUIDs on your Assembly Definition Assets for future proofing.</p>
<p>For each Assembly Definition Asset in your Project:</p>
<ul>
<li>Select the Assembly Defintion Asset</li>
<li>In the Inspector, enable <b>Use GUIDs</b></li>
</ul>
<p>For information on using Assembly Definition files, refer to the <a href="https://docs.unity3d.com/Manual/ScriptCompilationAssemblyDefinitionFiles.html">documentation on Assembly Definitions</a>.</p>
<h1><a class="anchor" id="autotoc_md2544"></a>
Upgrade process</h1>
<h2><a class="anchor" id="autotoc_md2545"></a>
Upgrading your version of LWRP</h2>
<p>To start the upgrade process:</p>
<ul>
<li>Open the Project you want to upgrade in <a class="el" href="namespaceUnity.html">Unity</a> 2019.3</li>
</ul>
<p><a class="el" href="namespaceUnity.html">Unity</a> automatically updates LWRP to a 7.x.x version, and pulls in the URP package as a dependency of the updated LWRP package. The <a class="el" href="namespaceUnity.html">Unity</a> script updater automatically upgrades your script files. When the script updater has finished, all of your scripts should compile properly.</p>
<h2><a class="anchor" id="autotoc_md2546"></a>
Upgrading the Shader search path</h2>
<p>If your LWRP Project uses <code>Shader.Find</code> to search for LWRP Shaders, you need to change the search path.</p>
<p>To do this:</p><ul>
<li>Change all instances of <code>Shader.Find</code> that search for <code>Lightweight</code> to search for <code>Universal</code>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md2547"></a>
Upgrading custom shaders</h2>
<h3><a class="anchor" id="autotoc_md2548"></a>
Upgrading tags</h3>
<p>URP uses its own scripting tags. If your Shaders use the LWRP <code>LightMode</code> tags, they will work in your URP Project, because <a class="el" href="namespaceUnity.html">Unity</a> uses an internal alias for this. However, you should change the tags manually to future-proof your Project.</p>
<p>To do this:</p>
<ul>
<li>Change all instances of <code>Lightweight2D</code> tag to <code>Universal2D</code>.</li>
<li>Change all instances of <code>LightweightForward</code> tag to <code>UniversalForward</code>.</li>
</ul>
<p>In addition to this, URP also uses a different RenderPipeline tag to LWRP. If your own Shaders include this tag, you need to change it manually for the Shaders to work:</p>
<ul>
<li>Change all instances of <code>LightweightPipeline</code> tag to <code>UniversalPipeline</code>.</li>
</ul>
<h3><a class="anchor" id="autotoc_md2549"></a>
Upgrading Shader names</h3>
<p>The following Shader names have been changed for URP, so you need to manually update your Shader files:</p><ul>
<li>Change all instances of &lsquo;UsePass 'Lightweight Render Pipeline/...&rsquo;<code>to</code>UsePass 'Universal Render Pipeline/...'`</li>
</ul>
<h3><a class="anchor" id="autotoc_md2550"></a>
Upgrading include paths</h3>
<p>URP uses different include paths to LWRP. LWRP 7.x.x contains forwarding includes, so your custom Shaders will upgrade from LWRP to URP. However, URP 7.x.x does not contain forwarding includes, so you must then manually update the include paths.</p>
<ul>
<li>Change all instances of &lsquo;#include 'Packages/com.unity.render-pipelines.lightweight/xxx&rsquo;<code>to</code>#include 'Packages/com.unity.render-pipelines.universal/xxx'`</li>
</ul>
<h2><a class="anchor" id="autotoc_md2551"></a>
Upgrading namespaces</h2>
<p>In the .cs files in your Project, find and replace references to the LWRP namespace with the new Universal namespace.</p>
<ul>
<li>Change all instances of <code>UnityEditor.Rendering.LWRP.xxx</code> to now <code>UnityEditor.Rendering.Universal.xxx</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md2552"></a>
Upgrading post-processing effects</h1>
<p>URP version 7.x supports both <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@7.4/manual/integration-with-post-processing.html">Post Processing Stack v2 (PPv2) and its own integrated post-processing solution</a>. If you have the Post Processing Version 2 package installed in your Project and you want to use URP's integrated post-processing solution, you need to delete the Post Processing Stack v2 package before you install URP into your Project. When you have installed URP, you can then recreate your post-processing effects.</p>
<p>Upgrading post-processing effects from LWRP to URP is a manual process. You must manually recreate each Post-Processing Profile in your Project, using URP's post-processing implementation.</p>
<p>URP's integrated post-processing solution does not currently support custom post-processing effects. If your Project uses custom post-processing effects, these cannot currently be recreated in URP's integrated post-processing solution. Custom post-processing effects will be supported in a forthcoming release of URP.</p>
<h1><a class="anchor" id="autotoc_md2553"></a>
Installing URP and removing LWRP</h1>
<p>As part of the automatic upgrade process, <a class="el" href="namespaceUnity.html">Unity</a> installed URP as a dependency of LWRP. You must now install URP as a dependency of the Project itself, so that when you remove LWRP, <a class="el" href="namespaceUnity.html">Unity</a> does not automatically remove URP.</p>
<p>To install URP as a dependency of the Project:</p>
<ul>
<li>Go to menu: <b>Window</b> &gt; <b>Package Manager</b>.</li>
<li>Locate the <b>Universal RP</b> package, and note the version number to the right of its name. This is the version of URP that has been added to your Project.</li>
<li>Close <a class="el" href="namespaceUnity.html">Unity</a>.</li>
<li>In your file explorer, open the root folder of your <a class="el" href="namespaceUnity.html">Unity</a> Project.</li>
<li>Open the <a class="el" href="namespacePackages.html">Packages</a> folder, and locate <em>manifest.json</em>. This is your Project's Project Manifest file.</li>
<li>Open the Project Manifest file using a text editor.</li>
<li>At the top of the dependencies section, add the following entry:</li>
</ul>
<div class="fragment"><div class="line">&quot;com.unity.render-pipelines.universal&quot;: &quot;[Version number you noted earlier]&quot;</div>
</div><!-- fragment --><p>So, for example, if the version of URP was 7.1.1, your dependencies section would look like this:</p>
<div class="fragment"><div class="line">&quot;dependencies&quot;: {</div>
<div class="line">    &quot;com.unity.render-pipelines.universal&quot;: &quot;7.1.1&quot;,</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p>This marks the version of URP that you have installed as a dependency of the Project. You can now safely remove LWRP.</p>
<ul>
<li>Open your Project in <a class="el" href="namespaceUnity.html">Unity</a>.</li>
<li>Open the Package Manager Window.</li>
<li>Locate <b>Lightweight RP</b> and select it.</li>
<li>In the bottom right of the Package Manager window, click Remove. <a class="el" href="namespaceUnity.html">Unity</a> completely removes the LWRP package from the Project. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
