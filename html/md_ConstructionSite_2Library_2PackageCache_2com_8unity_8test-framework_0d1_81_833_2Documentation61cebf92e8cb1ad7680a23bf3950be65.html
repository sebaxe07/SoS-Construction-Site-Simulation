<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: OuterUnityTestAction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">OuterUnityTestAction</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md4878"></a></p>
<p><code>OuterUnityTestAction</code> is a wrapper outside of the tests, which allows for any tests with this attribute to run code before and after the tests. This method allows for yielding commands in the same way as <code>UnityTest</code>. The attribute must inherit the <code>NUnit</code> attribute and implement <code>IOuterUnityTestAction</code>.</p>
<h1><a class="anchor" id="autotoc_md4879"></a>
OuterUnityTestAction Example</h1>
<div class="fragment"><div class="line"><span class="preprocessor"> #</span></div>
<div class="line"><span class="keyword">using </span>System.Collections;</div>
<div class="line"><span class="keyword">using </span>NUnit.Framework;</div>
<div class="line"><span class="keyword">using </span>NUnit.Framework.Interfaces;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespaceUnityEngine.html">UnityEngine</a>;</div>
<div class="line"><span class="keyword">using </span>UnityEngine.TestTools;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>MyTestClass</div>
<div class="line">{</div>
<div class="line">    [UnityTest, MyOuterActionAttribute]</div>
<div class="line">    <span class="keyword">public</span> IEnumerator MyTestInsidePlaymode()</div>
<div class="line">    {</div>
<div class="line">        Assert.IsTrue(Application.isPlaying);</div>
<div class="line">        yield <span class="keywordflow">return</span> null;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>MyOuterActionAttribute : NUnitAttribute, <a class="code hl_interface" href="interfaceUnityEngine_1_1TestTools_1_1IOuterUnityTestAction.html">IOuterUnityTestAction</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> IEnumerator BeforeTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        yield <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code hl_class" href="classUnityEngine_1_1TestTools_1_1EnterPlayMode.html">EnterPlayMode</a>();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> IEnumerator AfterTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        yield <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code hl_class" href="classUnityEngine_1_1TestTools_1_1ExitPlayMode.html">ExitPlayMode</a>();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassUnityEngine_1_1TestTools_1_1EnterPlayMode_html"><div class="ttname"><a href="classUnityEngine_1_1TestTools_1_1EnterPlayMode.html">UnityEngine.TestTools.EnterPlayMode</a></div><div class="ttdoc">Implements IEditModeTestYieldInstruction. Creates a yield instruction to enter Play Mode.</div><div class="ttdef"><b>Definition</b> EnterPlayMode.cs:11</div></div>
<div class="ttc" id="aclassUnityEngine_1_1TestTools_1_1ExitPlayMode_html"><div class="ttname"><a href="classUnityEngine_1_1TestTools_1_1ExitPlayMode.html">UnityEngine.TestTools.ExitPlayMode</a></div><div class="ttdoc">Implements IEditModeTestYieldInstruction. A new instance of the class is a yield instruction to exit ...</div><div class="ttdef"><b>Definition</b> ExitPlayMode.cs:11</div></div>
<div class="ttc" id="ainterfaceUnityEngine_1_1TestTools_1_1IOuterUnityTestAction_html"><div class="ttname"><a href="interfaceUnityEngine_1_1TestTools_1_1IOuterUnityTestAction.html">UnityEngine.TestTools.IOuterUnityTestAction</a></div><div class="ttdoc">When implemented by an attribute, this interface implemented to provide actions to execute before set...</div><div class="ttdef"><b>Definition</b> IOuterUnityTestAction.cs:10</div></div>
<div class="ttc" id="anamespaceUnityEngine_html"><div class="ttname"><a href="namespaceUnityEngine.html">UnityEngine</a></div><div class="ttdef"><b>Definition</b> IAnimationPreviewable.cs:4</div></div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md4880"></a>
Execution order</h1>
<p><a class="el" href="namespaceUnity.html">Unity</a> outer test action is not rerun on domain reload but non-Unity action attributes are:</p>
<p><img src="./images/execution-order-outerunitytestaction.svg" alt="OuterUnityTestAction Execution Order" style="pointer-events: none;" class="inline"/></p>
<blockquote class="doxtable">
<p>&zwj;<b>Note</b>: Some browsers do not support SVG image files. If the image above does not display properly (for example, if you cannot see any text), please try another browser, such as <a href="https://www.google.com/chrome/">Google Chrome</a> or <a href="https://www.mozilla.org">Mozilla Firefox</a>. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md4881"></a>
Test actions with domain reload example</h2>
<div class="fragment"><div class="line"><span class="keyword">using </span>NUnit.Framework.Interfaces;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>TestActionOnSuiteAttribute : NUnitAttribute, ITestAction</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> BeforeTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(<span class="stringliteral">&quot;TestAction OnSuite BeforeTest&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> AfterTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> ActionTargets Targets { <span class="keyword">get</span> { <span class="keywordflow">return</span> ActionTargets.Suite; } }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>TestActionOnTestAttribute : NUnitAttribute, ITestAction</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> BeforeTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(<span class="stringliteral">&quot;TestAction OnTest BeforeTest&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> AfterTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(<span class="stringliteral">&quot;TestAction OnTest AfterTest&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> ActionTargets Targets { <span class="keyword">get</span> { <span class="keywordflow">return</span> ActionTargets.Test; } }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>OuterTestAttribute : NUnitAttribute, IOuterUnityTestAction</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> IEnumerator BeforeTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(<span class="stringliteral">&quot;OuterTestAttribute BeforeTest&quot;</span>);</div>
<div class="line">        yield <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> IEnumerator AfterTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(<span class="stringliteral">&quot;OuterTestAttribute AfterTest&quot;</span>);</div>
<div class="line">        yield <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">[TestActionOnSuite]</div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>ActionOrderTestBase</div>
<div class="line">{</div>
<div class="line">    [Test, OuterTest, TestActionOnTest]   </div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> UnitTest()</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(<span class="stringliteral">&quot;Test&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    [UnityTest, OuterTest, TestActionOnTest]</div>
<div class="line">    <span class="keyword">public</span> IEnumerator UnityTestWithDomainReload()</div>
<div class="line">    {</div>
<div class="line">        Log(<span class="stringliteral">&quot;Test part 1&quot;</span>);</div>
<div class="line">        yield <span class="keywordflow">return</span> <span class="keyword">new</span> EnterPlayMode(); </div>
<div class="line">        <span class="comment">//Domain reload</span></div>
<div class="line">        yield <span class="keywordflow">return</span> <span class="keyword">new</span> ExitPlayMode();</div>
<div class="line">        Log(<span class="stringliteral">&quot;Test part 2&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
