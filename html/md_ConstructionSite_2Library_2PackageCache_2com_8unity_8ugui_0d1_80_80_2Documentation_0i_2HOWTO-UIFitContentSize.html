<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Making UI elements fit the size of their content</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Making UI elements fit the size of their content</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md5373"></a></p>
<p>Normally when positioning a UI element with its Rect Transform, its position and size is specified manually (optionally including behavior to stretch with the parent Rect Transform).</p>
<p>However, sometimes you may want the rectangle to be automatically sized to fit the content of the UI element. This can be done by adding a component called Content Size Fitter.</p>
<h1><a class="anchor" id="autotoc_md5374"></a>
Fit to size of Text</h1>
<p>In order to make a Rect Transform with a Text component on it fit the text content, add a Content Size Fitter component to the same Game Object which has the Text component. Then set both the Horizontal Fit and Vertical Fit dropdowns to the Preferred setting.</p>
<h2><a class="anchor" id="autotoc_md5375"></a>
How does it work?</h2>
<p>What happens here is that the Text component functions as a <a class="el" href="classLayout.html">Layout</a> Element that can provide information about how big its minimum and preferred size is. In a manual layout this information is not used. A Content Size Fitter is a type of <a class="el" href="classLayout.html">Layout</a> Controller, which listens to layout information provided by <a class="el" href="classLayout.html">Layout</a> Elements and control the size of the Rect Transform according to this.</p>
<h2><a class="anchor" id="autotoc_md5376"></a>
Remember the pivot</h2>
<p>When UI elements are automatically resized to fit their content, you should pay extra attention to the pivot of the Rect Transform. The pivot will stay in place when the element is resized, so by setting the pivot position you can control in which direction the element will expand or shrink. For example, if the pivot is in the center, then the element will expand equally in all directions, and if the pivot is in the upper left corner, then the element will expand to the right and down.</p>
<h1><a class="anchor" id="autotoc_md5377"></a>
Fit to size of UI element with child Text</h1>
<p>If you have a UI element, such as a Button, that has a background image and a child Game Object with a Text component on it, you probably want the whole UI element to fit the size of the text - maybe with some padding.</p>
<p>In order to do this, first add a Horizontal <a class="el" href="classLayout.html">Layout</a> Group to the UI element, then add a Content Size Fitter too. Set the Horizontal Fit, the Vertical Fit, or both to the Preferred setting. You can add and tweak padding using the padding property in the Horizontal <a class="el" href="classLayout.html">Layout</a> Group.</p>
<p>Why use a Horizontal <a class="el" href="classLayout.html">Layout</a> Group? Well, it could have been a Vertical <a class="el" href="classLayout.html">Layout</a> Group as well - as long as there is only a single child, they produce the same result.</p>
<h2><a class="anchor" id="autotoc_md5378"></a>
How does it work?</h2>
<p>The Horizontal (or Vertical) <a class="el" href="classLayout.html">Layout</a> Group functions both as a <a class="el" href="classLayout.html">Layout</a> Controller and as a <a class="el" href="classLayout.html">Layout</a> Element. First it listens to the layout information provided by the children in the group - in this case the child Text. Then it determines how large the group must be (at minimum, and preferably) in order to be able to contain all the children, and it functions as a <a class="el" href="classLayout.html">Layout</a> Element that provides this information about its minimum and preferred size.</p>
<p>The Content Size Fitter listens to layout information provided by any <a class="el" href="classLayout.html">Layout</a> Element on the same Game Object - in this case provided by the Horizontal (or Vertical) <a class="el" href="classLayout.html">Layout</a> Group. Depending on its settings, it then controls the size of the Rect Transform based on this information.</p>
<p>Once the size of the Rect Transform has been set, the Horizontal (or Vertical) <a class="el" href="classLayout.html">Layout</a> Group makes sure to position and size its children according to the available space. See the page about the Horizontal <a class="el" href="classLayout.html">Layout</a> Group for more information about how it controls the positions and sizes of its children.</p>
<h1><a class="anchor" id="autotoc_md5379"></a>
Make children of a Layout Group fit their respective sizes</h1>
<p>If you have a <a class="el" href="classLayout.html">Layout</a> Group (horizontal or vertical) and want each of the UI elements in the group to fit their respective content, what do you do?</p>
<p>You can't put a Content Size Fitter on each child. The reason is that the Content Size Fitter wants control over its own Rect Transform, but the parent <a class="el" href="classLayout.html">Layout</a> Group also wants control over the child Rect Transform. This creates a conflict and the result is undefined behavior.</p>
<p>However, it isn't necessary either. The parent <a class="el" href="classLayout.html">Layout</a> Group can already make each child fit the size of the content. What you need to do is to disable the Child Force Expand toggles on the <a class="el" href="classLayout.html">Layout</a> Group. If the children are themselves <a class="el" href="classLayout.html">Layout</a> Groups too, you may need to disable the Child Force Expand toggles on those too.</p>
<p>Once the children no longer expand with flexible width, their alignment can be specified in the <a class="el" href="classLayout.html">Layout</a> Group using the Child Alignment setting.</p>
<p>What if you want some of the children to expand to fill additional available space, but not the other children? You can easily control this by adding a <a class="el" href="classLayout.html">Layout</a> Element component to the children you want to expand and enabling the Flexible Width or Flexible Height properties on those <a class="el" href="classLayout.html">Layout</a> Elements. The parent <a class="el" href="classLayout.html">Layout</a> Group should still have the Child Force Expand toggles disabled, otherwise all the children will expand flexibly.</p>
<h2><a class="anchor" id="autotoc_md5380"></a>
How does it work?</h2>
<p>A Game Object can have multiple components that each provide layout information about minimum, preferred and flexible sizes. A priority system determines which values take effect over others. The <a class="el" href="classLayout.html">Layout</a> Element component has a higher priority than the Text, Image, and <a class="el" href="classLayout.html">Layout</a> Group components, so it can be used to override any layout information values they provide.</p>
<p>When the <a class="el" href="classLayout.html">Layout</a> Group listens to the layout information provided by the children, it will take the overridden flexible sizes into account. Then, when controlling the sizes of the children, it will not make them any bigger than their preferred sizes. However, if the <a class="el" href="classLayout.html">Layout</a> Group has the Child Force Expand option enabled, it will always make the flexible sizes of all the children be at least 1.</p>
<h1><a class="anchor" id="autotoc_md5381"></a>
More information</h1>
<p>This page has explained solutions to a few common use cases. For a more in depth explanation of the auto layout system, see the <a class="el" href="md_ConstructionSite_2Library_2PackageCache_2com_8unity_8ugui_0d1_80_80_2Documentation_0i_2UIAutoLayout.html">UI Auto Layout</a> page. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
